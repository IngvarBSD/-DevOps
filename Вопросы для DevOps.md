50-questions-to-ops
Вопросы для DevOps инженеров и системных администраторов Unix
1. Как ты понимаешь концепцию: инфраструктура как код?
Подход «Инфраструктура как код (IaC)», которыи? иногда называют «программируемои? инфраструктурои?», — это паттерн, по которому процесс создания/настрои?ки инфраструктуры аналогичен процессу программирования ПО. По сути, этот паттерн положил начало устранению границ между написанием приложении? и созданием сред для этих приложении?. Это основа облачных вычислении? и неотъемлемая часть DevOps методологии.

2. Как сохранить правило в iptables, чтобы после перезагрузки оно не затерлось?
Нужно ввести команду iptables-save.

3. Что такое inodes и что они хранят?
Это индексные дескрипторы — то есть структура данных в традиционных для UNIX фаи?ловых системах, таких как ext4. В этои? структуре хранится метаинформация о стандартных фаи?лах, каталогах или других объектах фаи?ловои? системы, кроме непосредственно данных и имен фаи?лов.

4. Что хранится в настрои?ках sysctl? Какои? командои? можно применить новые настрои?ки?
Это утилита, предназначенная для управления параметрами ядра операционнои? системы на лету. Позволяет читать и изменять параметры ядра. Например — такие, как размер сегмента разделяемои? памяти, ограничение на число запущенных процессов и т.д. Чтобы применить новые настрои?ки нужно ввести команду sysctl –system.

5. Что такое RAID-массив? Какие бывают RAID-массивы? Назови основные отличия? Что такое диск че?тности?
RAID (от англ. Redundant Array of Independent Disks — избыточныи? массив независимых дисков) — технология виртуализации данных, которая объединяет несколько дисков в логическии? диск для избыточности и повышения производительности при операциях чтения/записи данных.

RAID0 (stripe) — дисковыи? массив повышеннои? производительности с чередованием, без отказоустои?чивости. Строго говоря, RAID-массивом не является, поскольку избыточность (redundancy) в не?м отсутствует.

RAID1 (mirror) — зеркальныи? дисковыи? массив. Данные пишутся на 2 диска одновременно, то есть зеркально.

RAID2 — зарезервирован для массивов, которые применяют код Хемминга (Код Хемминга – это блочныи? код, позволяющии? исправлять одиночные и фиксировать двои?ные ошибки).

RAID3/4 — дисковые массивы с чередованием и выделенным диском че?тности.

RAID5 — дисковыи? массив с чередованием и отсутствием выделенного диска че?тности.

RAID6 — дисковыи? массив с чередованием, использующии? две контрольные суммы, вычисляемые двумя независимыми способами.

RAID10 — массив RAID0, построенныи? из массивов RAID1.

RAID01 — массив RAID1, построенныи? из массивов RAID0 (имеет низкую отказоустои?чивость).

RAID50 — массив RAID0, построенныи? из массивов RAID5.

RAID05 — массив RAID5, построенныи? из массивов RAID0.

RAID60 — массив RAID0, построенныи? из массивов RAID6.

RAID06 — массив RAID6, построенныи? из массивов RAID0.

Диск че?тности — это диск предназначенныи? для хранения контрольных сумм, вычисляемых при записи данных на RAID-массив.

6. Что такое xargs?
Это утилита для формирования списка аргументов и выполнения команды в UNIX?подобных операционных системах. Команда xargs объединяет зафиксированныи? набор заданных в команднои? строке — начальных аргументов с аргументами, прочитанными со стандартного ввода, и выполняет указанную команду один или несколько раз.

7. Расскажи что такое LoadAverage(LA)?
В утилитах top, htop, atop эта метрика показывает среднее арифметическое значение загрузки ресурсов операционнои? системы относительно количества доступных процессорных (виртуальных) ядер по тре?м временным интервалам: 1 минута, 5 минут и 15 минут.

8. Что такое sed?
Stream EDitor — потоковыи? текстовыи? редактор, применяющии? различные предопределе?нные текстовые преобразования к последовательному потоку текстовых данных. Часто применяется в однострочных консольных командах для редактирования данных “налету”.

9. Какои? процесс имеет PID1 и за что он отвечает? В каких случаях этот процесс не является родителем всех процессов операционнои? системы?
Название процесса /sbin/init. Он отвечает за инициализацию ядра Linux. В случае когда используется Docker-контеи?нер, процесс с PID1 внутри контеи?нера не тот же процесс /sbin/init которыи? запустил ядро хост машины, а процесс Docker-демона которыи? запустил контеи?нер.

10.Что такое pip и PyPI? Как они связаны между собои??
pip (от англ. Preferred Installer Program) — утилита управления пакетами (зависимостями), которые написаны на языке программирования Python. PyPI (от англ. Python Package Index) каталог пакетов Python — написанных на языке программирования Python. PyPI работает с системами управления пакетами pip и easy_install аналогичен PEAR для PHP и CPAN для Perl.

11.Что такое RVM?
RVM (от англ. Ruby Version Manage) — утилита для управления версиями в языке программирования Ruby. Позволяет в разных директориях (окружениях) использовать разные версии языка.

12.Назови главное отличие между 2-ои? и 3-еи? версиеи? Python?
Python2 изначально создавался только с поддержкои? ASCII-символов. Самое главное изменение в Python3 — это нативная обработка символов Unicode. Что повлекло за собои? другие изменения в архитектуре языка и ожидаемо оказало влияние на несовместимость 2-ои? и 3-еи? версии? языка.

13.Назови различия между протоколами IPv4 и IPv6?
IPv4 использует 32 битное адресное пространство, которое имеет размер 4 баи?та. Это означает, что общее количество IP адресов в интернете может быть 232 степени, а это около 4,3 миллиарда. В IPv6 адрес, размером 128 бит отличается от адреса IPv4. Каждая группа разделяется двоеточием вместо точки и состоит из 16 бит, в виде четырех шестнадцатеричных цифр. Первые 64 бита содержат информацию о сетевом адресе, которая используется для маршрутизации, остальные 64 бита содержат подробную информацию о сетевом интерфеи?се хоста.

14.Что такое стек MEAN и в че?м его особенность?
Стек MEAN состоит из технологии? MongoDB, Express.js, Angular.js, Node.js. Это пока единственныи? стек полностью написанныи? на одном языке программирования JavaScript (Официально его стандарт называется ECMAScript).

15.Что такое сетевои? socket?
Это программныи? интерфеи?с для обеспечения обмена данными между процессами. Процессы при таком обмене могут исполняться как на однои? ЭВМ, так и на различных ЭВМ, связанных между собои? сетью. Сокет — абстрактныи? объект, представляющии? конечную точку соединения.

16.В че?м принципиальное отличие виртуальнои? машины от Docker- контеи?нера?
Виртуальная машина обладает собственным ядром, которое контролирует гипервизор, а Docker-контеи?нер использует ядро хост машины.

17.Какие системы оркестрации ты знаешь?
Ansible, Salt Stack, Chef, Puppet, CFEngine.

18.Что такое стек HashiCorp?
Это набор приложении? для автоматизации управления жизненным циклом облачнои? инфраструктуры, выпускаемыи? компаниеи? HashiCorp. В набор входят: Terraform, Packer, Vagrant, Nomad, Consul, Vault.

19. Что такое Overlay network? В каких случаях этот режим работы может быть полезен и почему?
Overlay network — это общии? случаи? логическои? сети, создаваемои? поверх другои? сети. Узлы оверлеи?нои? сети могут быть связаны либо физическим соединением, либо логическим, для которого в основнои? сети существуют один или несколько соответствующих маршрутов из физических соединении?. В случае использования AWS (Amazon Web Services) есть ограничение на количество маршрутов в таблице маршрутизации на инстансах AWS до 50 записеи?. При необходимости собрать кластер более чем из 51 инстанса необходимо использовать оверлеи?ную сеть.

20.Что такое привилегированные порты и почему они так называются? Сколько всего портов на одном сетевом интерфеи?се? Почему их столько?
Привилегированные порты составляют пул с 1-го по 1024-и?. Привилегированными они называются, потому что для запуска приложения, желающего прослушивать такие порты требуются привилегии пользователя root. На одном сетевом интерфеи?се всего 65535 портов, то есть 216 степени. Так устроен протокол TCP/IP на адресацию номеров портов отводится 16 бит (по 16 бит на отправителя и получателя).

21.Какие типы баз данных ты знаешь (например, реляционные, а еще?)?
Документо-ориентированные, графовые, столбцовые, фаи?ловые, а также хранилища ключеи? и значении?.

22.Какие методологии ведения проектов разработки ПО ты знаешь?
KanBan, Scrum, Agile, Waterfall.

23.Какие текстовые редакторы в Unix ты знаешь и умеешь использовать?
vi, vim, nano, ee (easy editor), emacs.

24.Что такое CIDR нотация? Сколько адресов в сетевои? маске /29? Сколько хостов можно разместить используя такую маску и почему? Напиши маску сети /29 (по октетам).
CIDR — бесклассовая адресация (от англ. Classless Inter-Domain Routing). Метод IP-адресации, позволяющии? гибко управлять пространством IP- адресов, не используя же?сткие рамки классовои? адресации. Использование этого метода позволяет экономно использовать ограниченныи? ресурс IP-адресов, поскольку возможно применение различных масок подсетеи? к различным подсетям. В сети с маскои? /29 — 8 адресов. Разместить можно 6 хостов, потому что 2 адреса выполняют служебную функцию – 1-и? становится адресом этои? сети, последнии? используется для отправки пакетов на все доступные узлы сети.

Собеседник должен написать: 255.255.255.248.

25.Что такое MapReduce? Как это работает?
MapReduce — это модель вычисления некоторых наборов распределенных задач с использованием большого количества компьютеров (называемых «нодами»), образующих кластер.

Работа MapReduce состоит из двух шагов: Map и Reduce, названных так по аналогии с одноименными функциями высшего порядка, map и reduce.

На Map-шаге происходит предварительная обработка входных данных. Для этого один из компьютеров (называемыи? главным узлом — master node) получает входные данные задачи, разделяет их на части и передает другим компьютерам (рабочим узлам — worker node) для предварительнои? обработки.

На Reduce-шаге происходит све?ртка предварительно обработанных данных. Главныи? узел получает ответы от рабочих узлов и на их основе формирует результат — решение задачи, которая изначально формулировалась.

26.Какие модели конкуренции и параллелизма ты знаешь?
Потоки выполнения и блокировки, разделение идентичности и состояния, акторы, взаимодеи?ствие последовательных процессов, лямбда- архитектура.

27.Назови основные отличия версии? Linux: RHEL(Red Hat), CentOS, Debian, Ubuntu? Что такое LTS?
RHEL/CentOS используют систему RPM-пакетов, а Debian/Ubuntu используют систему DEB-пакетов.

Сборки RHEL/CentOS более консервативны к появлению новых технологических решении?, используются исключительно проверенные временем версии программ и ядер Lunix. Новые версии выходят не чаще чем раз в 1-1,5 года.

Сборки Debian/Ubuntu более прогрессивны в плане появления новых версии? пакетов. Таким образом на фоне RHEL/CentOS, Debian/Ubuntu выглядят более свежими решениями и позволяют использовать самые передовые разработки и технологии. Обновления выходят не реже 1 раза в 6 месяцев, особенно в Ubuntu Linux.

Релизы, помеченные как LTS (от англ. Long Term Support) дословно «поддержка в течение длительного периода» поддерживаются дольше, чем большинство релизов. До выпуска следующеи? версии LTS также периодически выпускаются обновления к текущеи? версии LTS, имеющие то же кодовое имя, но отличающиеся дополнительнои? цифрои? после номера версии. Обновления для LTS релизов выпускаются в течении 5 лет с момента релиза.

28.Какие системы оркестрации Docker-контеи?нерами ты знаешь?
Swarm, Kubernetes, Nomad, Rancher.

29.Назови альтернативу Docker, как среде выполнения для контеи?неров.
Rocket (rkt) — является альтернативои? Docker, разработаннои? компаниеи? CoreOS с прицелом на соответствие строгим требованиям к безопасности и производительности.

30.Что такое SELinux? Что такое AppArmor? В че?м их отличия?
SELinux (от англ. Security-Enhanced Linux) — вспмагательная подсистема Linux созданная для улучшенния безопасности, реализаующая систему принудительного контроля доступа, которая может работать параллельно с классическои? избирательнои? системои? контроля доступа.

AppArmor (от англ. Application Armor) — инструмент упреждающеи? защиты, основанныи? на политиках безопасности (известных также как профили от англ. profiles), которые определяют, к каким системным ресурсам и с какими привилегиями может получить доступ то или иное приложение. В AppArmor включе?н набор стандартных профилеи?, а также инструменты статического анализа и инструменты, основанные на обучении, позволяющие ускорить и упростить построение новых профилеи?.

В отличии от SELinux, AppArmor не использует расширенные атрибуты и не зависит от фаи?ловои? системы. Доступ к ресурсам определяется на основе профилеи? (profiles), которые привязаны к пути фаи?ла или каталога, причем самого фаи?ла может и не быть на момент активации профиля. Профиль разрабатывается индивидуально под каждое приложение. Хотя в этом есть и недостаток: при переносе фаи?ла в SELinux за ним полностью сохраняется контекст безопасности. Также стоит отметить, что SELinux применяется в RHEL/CentOS, а AppArmor в Debian/Ubuntu.

31.В чем отличия применения параметра --add-host от директивы extra_hosts в контексте запуска Docker-контеи?нера? Что у них общего?
Параметр --add-host применяется при запуске контеи?нера с помощью CLI (Command Line Interface) однострочнои? командои?, а директива extra_hosts применяется при описании конфигурации контеи?нера для его запуска с помощью Docker Compose или Docker Swarm. Эти атрибуты делают одно и тоже, а именно добавляют запись в фаи?л /etc/hosts внутри контеи?нера.

32.Что такое Helm?
Helm – это пакетныи? менеджер для запуска и управления приложениями в кластере Kubernetes. Helm позволяет выполнять ключевые операции по управлению приложениями, такие как установка, обновление или их удаление. Если совсем просто, то Helm можно легко рассматривать как yum в RHEL/CentOS или apt в Debian/Ubuntu. Helm состоит из двух частеи?: Helm (клиент) и Tiller (сервер).

33.Что такое Vagrant? Какими средами выполнения Vagrant может управлять?
Это консольная утилита для создания и управления виртуальными машинами и Doker-контеи?нерами. Vagrant поддерживает технологии VirtualBox, Docker и lxc.

34.Какие виды виртуализации ты знаешь? Как они устроены внутри?
Паравиртуализация — техника виртуализации, при которои? гостевые операционные системы подготавливаются для исполнения в виртуализированнои? среде, для чего их ядро незначительно модифицируется. Операционная система взаимодеи?ствует с программои? гипервизора, которыи? предоставляет еи? гостевои? API, вместо использования напрямую таких ресурсов, как таблица страниц памяти. А также виртуализация на уровне операционнои? системы — которая позволяет запускать изолированные и безопасные виртуальные машины на одном хосте, но не позволяет запускать операционные системы с ядрами, отличными от типа ядра базовои? операционнои? системы.

35.Какие стадии нагрузочного тестирования можно выделить, как ключевые?
Первая — количество запросов при котором начинается рост времени ответа тестируемого сервиса, вторая — количество запросов при котором наступает отказ в обслуживании (DoS), то есть перестае?м отвечать вообще.

36.В че?м отличия компилируемых, интерпретируемых и языков программирования смешанного типа?
1.Комплируемые языки.

Работу компилируемых языков можно представить следующеи? схемои?, жизненныи? цикл программы представляет собои? следующие этапы:

Написание исходного текста программы (source code).
Компиляция в исполнимыи? фаи?л (например .exe для Windows или .dmg для macOS).
Выполнение программы.
Такои? подход обеспечивает высокое быстродеи?ствие. То есть программа готовится заранее, в тот момент когда она нужна, она просто запускается. Примеры: Assembler, C, C++, Go.

2.Интерпретируемые языки.

Соответственно, жизненныи? цикл программы сводится к:

Написание.
Выполнение.
По сути интерпретируемые программы это так называемые "скрипты" - описание набора деи?ствии? которые должен выполнить интерпретатор. То есть, интерпретатор это большая программа со множеством различных функции?. А программа это указание какие функции в каком порядке вызвать, описанием взаимодеи?ствия этих функции?. Это специфические языки, например языки для создания веб-саи?тов. Примеры: PHP, JavaScript, Python, Ruby.

3.Смешанного типа.

Принцип работы языков смешанного типа (компилируемо- интерпретируемые) проиллюстрируем такои? схемои?: Java относится именно к компилируемо-интерпретируемым языкам программирования. Интерпретатор в Java называется JVM (от англ. Java Virtual Machine).

Возникает вопрос, зачем такая сложность? Дело в том что такои? подход объединяет преимущества компилируемых языков (скорость выполнения) и интерпретируемых (независимость от операционнои? системы и безопасность). Примеры: Java, C#.

37.Назови плюсы и минусы — статическои? и динамическои? типизации?
Типизация — это свои?ство языка программирования различать типы данных. Например, целые числа, числа с двои?нои? точностью (с плавающеи? запятои?), строки и т.д.

Статическая типизация (static) вид типизации при котором переменная связывается с типом в момент объявления и не может изменить свои? тип. Сложнее описывать, но труднее допустить ошибку.

Плюсы статическои? типизации:

многие ошибки с типами можно обнаружить на этапе компиляции.
исполнение языка со статическои? типизациеи? в большинстве случаев быстрее нежели с динамическои?.
Минусы статическои? типизации:

многословность, для некоторых задач чрезмерна излишняя, однако может компенсироваться средствами обобщенного программирования, как к примеру шаблоны (templates) в С++.
Динамическая типизация (dynamic) вид типизации при котором переменная связывается с типом в момент инициализации, а значит эта переменная в любои? другои? момент инициализации может изменить свои? тип. Легче описывать, но проще сделать ошибку.

Плюсы динамическои? типизации:

лаконичность, не надо указывать типы и следить за ними, особенно полезно, когда необходимо иметь переменную в которую будут записаны промежуточные данные.
Минусы динамическои? типизации:

если откинуть грамотныи? стандарт оформления кода, то в ООП могут возникнуть трудности определения принадлежности к определенному классу.
возможны сложности с автодополнением в IDE, особенно с классами, ибо что куда относится знает (возможно) только программист.
динамическая типизация требует дополнительных внутренних деи?ствии? для осуществления этого механизма, поэтому скорость исполнения такого кода, в большинстве случаев, будет ниже чем у статически типизированного кода.
38.В че?м отличие протоколов TCP и UDP?
TCP — транспортныи? протокол передачи данных в сетях TCP/IP, предварительно устанавливающии? соединение с сетью. UDP — транспортныи? протокол, передающии? сообщения-датаграммы без необходимости установки соединения.

Разница между протоколами TCP и UDP — в так называемои? “гарантии доставки”.

TCP требует отклика (подтверждения доставки) от клиента, которому доставлен пакет данных, и для этого ему необходимо установленное заранее соединение.
Также протокол TCP считается надежным, тогда как UDP получил даже именование “протокол ненадежных датаграмм.
TCP исключает потери данных, дублирование и перемешивание пакетов (искажение очере?дности), задержки. UDP все это допускает, и соединение для работы ему не требуется.
Процессы, которым данные передаются по UDP, должны обходиться полученным, даже с потерями. TCP контролирует загруженность соединения, UDP не контролирует ничего, кроме целостности полученных датаграмм.
39.Объясни отличия в паттернах обработки объектов: LIFO и FIFO?
LIFO (Last Input First Output) — это стек, последним прише?л первым уше?л.

FIFO (First Input First Output) — это очередь, первым прише?л первым уше?л.

40.Какие виды доступа можно получить используя протокол SMB/CIFS или его открытую реализацию Samba?
Доступ на уровне ресурсов. Ограничения накладываются сервернои? сторонои? на каталоги общего доступа. Каждыи? сетевои? каталог может быть защищен паролем и клиент должен указать этот пароль для получения доступа к фаи?лам из общего каталога.

Доступ на уровне пользователеи?. Ограничения налагаются на каждыи? фаи?л в каждом общем каталоге и они основаны на пользовательских правах. Каждыи? пользователь (клиент) должен вои?ти на сервер под своеи? учетнои? записью и прои?ти аутентификацию. После завершения проверки подлинности клиент получает соответствующии? идентификатор пользователя (user ID), которыи? он должен предъявлять для получения доступа к ресурсам сервера.

41.Что такое Nmap?
Название Nmap — это сокращение от Network mapper. Это утилита для исследования (сканирования) сети и проверки безопасности.

42.Что такое Zombie процесс? При каких обстоятельствах процессу присваивается такои? статус?
В Unix, дочернии? процесс всегда выполняется под руководством своего родителя (процесса которыи? его породил). Иными словами родительскии? процесс делегирует дочернему процессу часть инструкции? для выполнения. Zombie — это процесс потерявшии? источник получения инструкции? для выполнения, то есть своего родителя.

Zombie процесс появляется когда родительскии? процесс завершая свою работу не завершил свои? дочернии? процесс, которыи? был порожде?н им ранее.

43.Что такое VXLAN?
VXLAN (Virtual Extensible LAN) — является технологиеи? сетевои? виртуализации, созданнои? для решения проблем масштабируемости в больших системах облачных вычислении?. Она использует схожую с VLAN технику для MAC инкапсуляции Ethernet кадров (Layer 2) в UDP-пакеты, стандартно используется порт 4789.

VXLAN является развитием усилии? по стандартизации на оверлеи?ном протоколе инкапсуляции. Он увеличивает масштабируемость до 16 миллионов логических сетеи? и позволяет сетям 2 уровня одновременно сосуществовать по IP-сетям. При этом multicast или unicast (с Head-End Replication) используются для передачи широковещательного трафика.

Спецификация технологии VXLAN первоначально была создана компаниями VMware и Cisco.

44.Что такое TLS?
TLS (от англ. Transport Layer Security) — Протокол защиты транспортного уровня, как и его предшественник SSL (от англ. Secure Sockets Layer) — слои? защище?нных сокетов. Эти криптографические протоколы, обеспечиваюют защище?нную передачу данных между узлами в сети Интернет.

45.Какие протоколы и методы авторизации поддерживает утилита curl?
cURL — Это утилита командни? строки включающая набор библиотек, в которых реализуются базовые возможности работы с URL страницами и передачи фаи?лов.

cURL поддерживает работу с протоколами: FTP, FTPS, HTTP, HTTPS, TFTP, SCP, SFTP, Telnet, DICT, LDAP, а также POP3, IMAP и SMTP.

Методы аутентификации в cURL — базовая, даи?джест, NTLM и Negotiate для HTTP, а также Kerberos для FTP. Возможно возобновление передачи фаи?ла с места обрыва (при поддержке протоколом), туннелирование через HTTP-прокси, поддержка HTTP-Cookie.

46.Что такое Swap?
Это механизм виртуальнои? памяти, при котором часть данных из оперативнои? памяти (ОЗУ) перемещается на хранение на HDD (же?сткии? диск) или SSD (тве?рдотельныи? накопитель).

47.Что такое ORM?
ORM (от англ. Object-Relational Mapping) — объектно-реляционное отображение, или преобразование. Технология программирования, которая связывает базы данных с концепциями объектно-ориентированных языков программирования, создавая «виртуальную объектную базу данных».

48.Что такое Xen?
Xen — кроссплатформенныи? гипервизор, разработанныи? в Кембриджском университете и распространяемыи? на условиях лицензии GPL. Основные особенности — поддержка режима паравиртуализации помимо аппаратнои? виртуализации, минимальность кода самого гипервизора за сче?т выноса максимального количества компонентов за пределы гипервизора.

49.Что такое OSPF?
OSPF (от англ. Open Shortest Path First) — протокол динамическои? маршрутизации, основанныи? на технологии отслеживания состояния канала (link-state technology) и использующии? для нахождения кратчаи?шего пути алгоритм Деи?кстры.

50.С какои? технологиеи? ты познакомился вчера, на этои? неделе, в этом месяце?
У собеседника должна быть эмоция, при ответе на этот вопрос.Вопросы для собеседования на позицию DevOps инженера


Общие вопросы
Расскажи про свой опыт:
Чем занимался на последнем рабочем месте?
Почему хочешь поменять работу?
По каким методологиям работал, что понравилось, что нет?
Расскажи про свои ожидания:
Что ожидаешь от работы в компании\проекте?
С чем хотелось бы поработать?
Расскажи о какой-нибудь крутой задаче, которую ты сделал на последнем месте работы. Чем она тебе понравилась?
Расскажи о самом большой факапе, который произошёл из-за тебя. Как его исправляли\устраняли и что было предпринято для не повторения этого инцидента?
Технические вопросы
Расскажи про CI\CD - приходилось ли что-то делать в этой области, какие тулы использовал?
На чём приходилось писать автоматизацию? Что понравилось?
Задача: есть java-приложение, оно неожиданно начало работать медленнее, чем было раньше (раз в 10 медленнее). Что ты будешь делать?
Работал ли с Docker’ом и системами его оркестрации типа k8s, openshift, nomad? Какие рекомендации по написанию Dockerfile ты можешь дать, если мы хотим запустить в контейнере java springboot приложение?
Есть ли опыт работы\администрирования баз данных, с какими приходилось работать, какие запросы\скрипты приходилось писать?
Работал ли с какими-нибудь системами мониторинга? Какие метрики ты бы стал собирать для java-приложения?
Софт скилы
Тебе дали срочную задачу на автоматизацию в понедельник утром. Во вторник вечером всё было готово и ты написал об этом менеджеру. В пятницу в 17:30 к тебе прибегает этот менеджер и говорит, что ничего не работает и надо срочно пофиксить. А ты через полтора часа должен оказаться в баре\на концерте\в самолёте. Что ты будешь делать?
Тестовое задание
Задача fizz_buzz: Напиши программу, которая выводит на экран числа от 1 до 100. При этом вместо чисел, кратных трем, программа должна выводить слово Fizz, а вместо чисел, кратных пяти — слово Buzz. Если число кратно пятнадцати, то программа должна выводить слово FizzBuzz. Решение должно быть простым и понятным.




Собеседование с DevOps. 300+ вопросов для Junior, Middle, Senior Можно спорить о популярности DevOps , а можно просто готовиться к собеседованию и получить желанные 9K :) Чтобы помочь вам сориентироваться в вопросах, которые задают на интервью, мы пообщались с теми, кто их проводит, и составили список возможных вопросов.

Если вы не DevOps, просмотрите другие подборки вопросов .

Junior Общие

Что такое DevOps?
Вы набираете google . com в браузере. Расскажите как можно подробнее, что происходит в это время?
Как работает HTTPS?
Объясните концепцию Infrastructure as Code, зачем это нужно и какие проблемы решает?
Linux 5. Опишите общую архитектуру операционной системы. 6. Опишите главное предназначение операционной системы. 7. Зачем нужны файловые системы? Какие существуют? 8. В чем разница между виртуализацией и контейнеризацией? 9. В чем преимущества контейнеров? 10. Какова файловая структура у Linux (UNIX) систем, расположенных в /etc,/dev,/proc,/sys,/lib,/var (несколько директорий по выбору)? 11. Что такое Load Average? 12. В чем разница между soft и hard symlink? 13. Как работают file permissions, зачем директории права исполнения (+x)? 14. Что такое zombie process? 15.С помощью чего можно собрать информацию о текущем состоянии процессора, памяти, диска, сети? 16. Что такое swappiness? 17. Как посмотреть свободное место на диске? 18. Что такое inode? 19. Расскажите поэтапно процесс загрузки Linux с момента включения питания компьютера. 20. Что произойдет при выполнении команд:

cat file1 > file2 2.cat file1 >> file2

В чем разница между Ctrl+C и Ctrl+Z?

Как перенаправить stderr и stdin одновременно?

Как уничтожить процесс? Какие типы сигналов?

Что делает команда grep?

Что такое сценарий bash?

Какие типы переменных используются в bash?

Что выведут команды:

echo ${hostname}; 2.echo $(hostname);

Networks 28. Что такое OSI, TCP/IP? 29. Зачем нужны network masks? 30. Структура IP-пакета. Из чего состоит? Что такое фрагментация и почему она происходит? 31. Что такое коллизия? Почему возникает? 32. Что такое прокси? 33. Что такое firewalls и для чего они необходимы? 34. Что такое NAT и для чего он нужен? 35. Какие типы IP-адресов вы знаете? 36. По какому порту и протоколу работают Ping и Traceroute?

Clouds 37. В чем разница между IaaS, PaaS и SaaS? 38. Что такое VPC и из каких компонентов должно состоять? 39. Что такое cloud-init? init/systemd/upstart configs?

Automation 40. Что такое IaaC и для чего он нужен? 41. Что такое Terraform? 42. Какие инструменты автоматизации вы знаете?

Information Security 43. В чем разница между аутентификацией и авторизацией? 44. Сертификаты. Как работает HTTPS? Что такое certificate ciphers? 45. Как безопасно передать данные своему коллеге? 46. Что такое MFA, TOTP?

Виртуализация 47. В чем разница между виртуализацией и контейнеризацией? В чем плюсы и минусы? 48. Как при запуске Docker-контейнера «повесить» его с 80-го порта в контейнере на 8081 на хост? 49. Как передать виртуальную машину USB device? 50. Docker-контейнер потребляет многие SWAP. Что делать?

CI/CD 51. Что такое Continuous Integration и Continuous Deployment? В чем разница между Continuous Deployment и Continuous Delivery? 52. Опишите основные этапы CI/CD. 53. Опишите пример процесса CI (и/или CD), который начинается с момента, когда разработчик запушил изменения/PR в Git? 54. Расскажите о разновидностях тестов, которые мы можем использовать в пайплайне CI. 55. Какие инструменты CI вы использовали? Есть ли опыт работы с Jenkinsfile? 56. Какие виды тестов вы знаете и для чего они необходимы?

Development 57. Git. Как решить merge conflict? Что такое rebase, cherry-pick? 58. В чем разница между git merge и git rebase? 59. Какие UI использовали? 60. Какая разница между GitLab/GitHub/Bitbucket? 61. Какая разница между Git pull/Git fetch? 62. Что такое Git-Flow? 63. Версионирование. Какая разница между SemVer и CalVer? 64. Тестирование. Какие существуют виды? Как писать тесты, TDD? 65. В чем разница между компилируемыми и интерпретационными языками программирования?

Monitoring/Logging 66. Какие метрики нужно собирать? Разница между infrastructure и application monitoring. 67. Какая разница между pull и push model в системах мониторинга? 68. Какая разница между Black box и White box monitoring? 69. Расскажите о подходах к сбору application логов.

Практические задания 71. Напишите простую программу на ваш выбор. Программа должна получать сообщения из сервиса очередей и печатать его в stdout. Сервис очередей — по вашему усмотрению. 72. Разберите структуру сервиса (например, Docker-compose). 73. Практическая сессия работы по Git (Git command line: fetch, push, pull, rebase, checkout, submodules).

Middle Linux

Опишите архитектуру ядра Linux.
Что такое ядро ??и каково его предназначение?
Опишите общие части файловой системы Unix/Linux, архитектуру файловой системы.
В чем разница между RedHat и Debian?
В чем разница между /proc and/sys?
Ситуация: показывает, что на диске занято 50% места, а создать файл даже под пользователем root не можем. В чем проблема?
Мы удалили файл, открывший приложение. Как нам его восстановить?
Как найти PID процесса, его стартовые параметры?
Как проверить, открыт ли порт на удаленном хосте, локальном хосте?
Как искать файл по его содержимому? 11.Что такое SSH как организовать доступ на сервер без пароля или с определенных хостов? Как ограничить доступные для выполнения команды?
Как проверить потребленные ресурсы во время сеанса SSH?
Что означает разрешение на файл 755?
Что такое SELinux и для чего он нужен?
Как определить PCI устройство в системе, например RAID controller?
Как переименовать устройство, например сетевую карту или диск?
Что такое LVM? Какие знают примеры использования?
Что такое root reserved space?
Что такое exit code и как узнать? 20.Почему вывод df -h показывает, что на диске занято мало места, но система не позволяет записать файл с сообщением no space left on device?
В чем разница между command1 & command2 и command1 && command2, а также command1 && command2 || command3?
Из сети резко вырос исходящий трафик на 25-й порт. Как, имея доступ на гейтвей, обнаружить вредителя из внутренней сети?
Как закрыть параметры Linux Kernel?
Что такое ulimits?
В чем разница между символическими и hard links?
Что такое фрагментация ext3 и ext4?
Для чего файловые системы ext* резервируют 5% места?
Как увеличить размер файловой системы? 29.Можем ли мы уменьшить размер файловой системы?
Что такое chroot и для чего он нужен?
У нас есть Linux box с 2 Гб оперативной памяти и Java-приложение, которое пытается выделить 4 Гб при запуске. Удастся ли это?
Есть приложение, которое читает файл, который пользователь пытается удалить. Что случится? Можно ли удалить этот файл? Можно ли восстановить этот файл?
Какие механизмы создания процессов в Linux вы знаете?
Сравните systemd и init system.
У вас есть папка с большим количеством файлов, и вы хотите удалить все файлы с именами, начинающимися на A (прописная буква). Но команда rm –f A* выдает Argument list too long. Как удалить эти файлы? 36.Вы начинаете удалять файлы первым методом по предыдущему вопросу, но каждый rm запрашивает подтверждение. Это очень долго. Как ускорить эту операцию?
Networks 37. Расскажите о модели OSI. Опишите функции и назначение каждого уровня. 38. Какие сетевые топологии вы знаете? Опишите разницу между ними. 39. Зачем нужен IP-адрес, если MAC-адрес уникален? Разве мы не можем общаться только по MAC-адресу? 40. В чем разница между концентратором и коммутатором L2 в сетях Ethernet? 41. Что такое Vlan и для чего существует разделение на виртуальные локальные сети? 42. Какой номер порта используется для PING-коммуникации? 43. Что такое сеанс связи? Какой алгоритм использует TCP для доставки? 44. В чем основное отличие между TCP и UDP? 45. Зачем нам маршрутизатор по умолчанию? 46.Как хост решает DNS по умолчанию? 47. Компьютер начал получать IP-адрес из другой сети (есть подозрение, что в сети работает другой DHCP-сервер): как его найти и отключить? Какие методы защиты от такой проблемы? 48. Мы будем мигрировать сайт на новый IP-адрес. Как сделать, чтобы пользователи этого практически не заметили? 49. Что такое socket? 50. Как узнать, какие удаленные хосты подключаются к хосту через порт 8888? (с помощью команд и не используя /proc или /sys). 51. У нас есть несколько сетевых карт. Как увеличить пропускную способность сервера? 52. Как проверить открытые порты на удаленном сервере без команд Netcat или Nmap Linux?

Container orchestration 53. В чем преимущества Kubernetes как платформы? 54. Что такое control plane и из каких компонентов состоит? 55. Какие CNI вы использовали и чем они отличаются? 56. Чем отличается managed Kubernetes от self-deployed? 57. Как можно контролировать размещение дел в кластере? (taints/tolerations, affinities, topologies etc) 58. Скейлинг кластера. Cluster autoscaler vs HPA vs VPA? Как сделать zero-downtime node decommission/cluster upgrade? PDB? Lifecycle hooks? 59. Каковы способы внешнего доступа к кластеру? ingress, node port, port-forward и т.д. 60. С каким PID запускается процесс в контейнере? 61.Что лучше использовать для изоляции окружения – Vagrant или Docker? 62. Какой инструмент оркестрирования контейнеров использовали? (Swarm, Kubernetes, Openshift, Rancher и т.д.) 63. Что происходит в Kubernetes после запуска kubectl (API, ReplicaSet Controller, storage back-end, scheduler, kubelet, worker node, pod)? 64. Какая разница между pod и контейнером в K8s? 65. Как мы можем сделать любой микросервис, работающий на K8s, доступным из внешней среды?

Виртуализация и контейнеризация 66. Какие типы виртуализации вы знаете? 67. Как работает Docker на MacOS/Windows? 68. Что такое Docker-image и Docker-контейнер? Как они между собой связаны? 69. Каковы основные отличия между контейнерами докеров и виртуальными машинами? 70. Что такое image layer? Какое максимальное количество layers возможно? Почему нужно пытаться иметь малое количество layers? Какое оптимальное количество? 71. Как изменить размер диска после создания в виртуальной машине? Что нужно сделать с гостевой ОС? 72. Как в Docker реализовано ограничение ресурсов? 73. Существует виртуальная машина, к которой упущен доступ. Как, имея доступ к диску, восстановить root пароль/SSH-ключ? 74.Оптимизировать Dockerfile, объяснить, что и почему так:

FROM golang RUN apt install -y pkg1 pkg2 pkgN # Dependencies for app COPY . . RUN go build -o app main.go CMD ./app 75. Что такое IPVS и какой у него функционал? 76. Какова структура API в Kubernetes? 77. Что такое operators и зачем они нужны?

CI/CD 78. Какие стадии должны быть в любом пайплайне (lint, test, build, deploy etc)? 79. Как и где хранить строительные artifacts? 80. Что такое артефакт? 81. Есть два бренча: dev и stage. Мы забросили Dockerfile в dev, а затем оббелили в dev и stage. Это будет одним артефактом или разными? 82. Что вы использовали для автоматизации настройки Jenkins and GitLab CI? 83. Сравните CI инструментов: Jenkins, GitLab CI, AWS Code Pipeline, GCP cloudbuild, GitHub actions, Circle CI. 84. Deployment strategies. Какие существуют и чем отличаются (recreate, blue-green, canary etc)? 85. Как реализовать СI/CD для программы, которая зависит от нескольких других программ? 86.GitOps. В чем его преимущества и недостатки?

Clouds and Automation 87. Какова роль и преимущества облачных сервисов для DevOps? 88. Что такое immutable infrastructure? Как достичь? В чем преимущества и недостатки? Packer, AMI и т.д. 89. Структура Terraform. Как организовать multi-environment project? Terraform workspaces? 90. Лучшие практики по использованию многих Terraform states. 91. Как организовать доступ разработной команды к AWS/GCP/Azure? Role-based access, assume role, SSO. 92. Что такое Terraform provider, module? 93. Как версионировать Terraform modules? 94. Когда нужно использовать local-exec и remote-exec? 95. Что такое golden image и как его создать?

Monitoring/Logging 96. Как мониторинг помогает поддерживать всю архитектуру системы? 97. Какие инструменты мониторинга вы использовали? 98. Что такое медиана и процентиль? 99. Что такое SLI, SLO, SLA? Зачем это нужно? 100. Архитектура системы сбора логов, ELK, EFK etc. Как сохранить логи при отказе хранилища? Нужно ли использовать для этого брокер сообщения? Нужно ли делать throttling/rate limits? 101. Prometheus long-term storage. Какие варианты? 102. Как работает Prometheus? 103. В чем принципиальное отличие между Grafana и Kibana? 104. В чем главное отличие между Ansible and Terraform? 105.Что такое SAAS monitoring и какие виды знаете? 106. Если вы используете Datadog/NewRelic, то как нам следить за падением инструментов мониторинга? 107. Что такое distributed tracing и error tracking systems? Как вы думаете, когда следует их использовать?

Information Security 108. В чем разница между RBAC и ABAC? 109. В чем состоит XSS атака? SQL injection? Что такое CSP? 110. Какие базовые меры можно предпринять для защиты SSH-соединения? 111. Root-пароль неизвестен или потерян. Какова процедура обновления? 112. Как управлять правами на файловой системе в Linux? 113. Что такое Firewall? 114. Чем отличается stateless от stateful фаерволов? 115. Сколько таблиц в iptables? 116. Можно ли настроить трансляцию NAT с помощью iptables? Какую таблицу следует использовать? 117. Какую таблицу используют для смены заголовков пакетов? 118.Если вам ломают Linux-сервер, то как более эффективно блокировать трафик с IP-адресов? 119. Принцип работы GCP Firewall: можем ли мы фильтровать трафик на Load Balancer? 120. Что такое SELinux? 121. Можно ли полностью отключить SELinux на лету? 122. С какими secrets management systems вы работали? 123. У нас есть сервер NAT, и мы хотим обеспечить доступ по IP к серверу снаружи. Как нам это реализовать? 123. Чтобы попасть на сервер клиента, нужно залогиниться на 4+ jump хоста. Как автоматизировать? Где мы будем хранить наш SSH-ключ?

Development 125. Что такое cookies? Зачем нужны? JWT? 126. Что такое feature toggles и для чего они? 127. Что такое TDD (Test Driven Development) и BDD (Behaviour Driven Development)?

Databases 128. Что такое индекс и что такое ключ? 129. Каковы преимущества и недостатки индексов? 130. Представьте, вы разрабатываете систему биллинга, которая должна обрабатывать тысячи счетов. Какую стратегию обновления данных вы бы выбрали? 131. Какие методы чаще всего используются для масштабирования реляционных баз данных? 132. Опишите механизм транзакций БД. 133. Как мы можем удалить таблицу или базу данных? 134. Как найти медленные запросы в MySQL/PostgreSQL? 135. Какие SQL-операторы манипулирования данными вы знаете? 136. Можно ли вывести список баз данных/таблиц через CLI? Как мы можем переключаться между базами данных MySQL/PostgreSQL? 137.Какие storage engines в MySQL вы знаете? Какие отличия? 138. Как реализована репликация MySQL master-master? Сколько серверов MySQL может быть задействовано в таком взаимодействии? 139. Как работает репликация MySQL/PostgreSQL? Какие параметры должны быть настроены для репликации? 140. Сравните SQL и NoSQL. 141. Sharding vs replication? 142. Какие виды индексов? Когда и зачем использовать? 143. Требования к схеме БД. Character sets, collations, default, not null и т.д. 144. Мы мигрируем MySQL/PostgreSQL из on-prem в облако. Как нам это сделать с минимальным даунтаймом? 145. Зачем и как тестировать перформанс базы данных?

Практические задания 146. Напишите Terraform module для инфраструктуры тестового сервиса в AWS. 147. Напишите hello-world программу на ваш выбор и сформируйте для нее helm chart/kustomize. 148. Как организовать деплой без downtime? 149. Опишите методы troubleshooting для Docker-контейнера. 150. Разобрать и разъяснить структуру CI/CD pipeline (на примере gitlab . yml). 151. Продемонстрируйте навыки работы с GitOps, опишите деплоймент простенькой программы. 152. Как организовать деплой веб-приложения, запущенный на нескольких серверах без (или с минимальным) downtime? 153.Как с помощью Ansible узнать default gateway для пула серверов, и если он отличается от желаемого, записать строчку «hostname: gateway» в файл на локальной машине?

Senior Linux

Что может создавать высокую нагрузку на CPU (процессы приложений потребляют очень мало ресурсов CPU)?
У нас нет команд ifconfig, ip и поставить мы их не можем. Как нам узнать ip address, mask, network, routes?
Что такое suid, sgid и sticky?
Что тюнилось с системой для погрузки трафика 1GB, 10G, 40G+?
Что тюнилось с системой для высокой нагрузки на диск?
Что такое Linux namespaces?
Что такое Ceph как работает?
Что нужно тюнить для Ceph?
Что произойдет, если /dev/sda1 перенесем в /root?
Мы удалили /dev/sda1. Как нам его восстановить? Что такое pseudo-devices? 11.Нам хакнули сервер и в директории /var/www создали два миллиона файлов небольшого размера. Если использовать команду cd /var/www и затем rm -rf*, то у нас зависнет терминал. Как удалить файлы?
На каком уровне работает iptables?
Что такое eBPF и зачем нужно?
У вас есть файл, содержащий IP-адреса серверов (по одному в строке). Есть SSH доступ к этим машинам, и вам нужно выполнить задание (например, установить список пакетов на все узлы). Объясните, как можно это сделать.
Networking 15. В чем отличия между IPv4 и IPv6? Зачем мы мигрируем на IPv6? 16. Сосуществование IPv4 и IPv6: что это значит? 17. Действительно ли работают межсетевые экраны с поддержкой IPv6? 18. Как работает DHCPv6? Чем она отличается от DHCPv4? 19. Как фрагментируются пакеты IPv6 и чем отличается от IPv4? 20 Или с IPv6 нужно больше использовать NAT? 21. Что такое DPDK? 22. Что такое SR-IOV? В чем разница между DPDK и SR-IOV? 23. Что такое NetFlow и зачем нужно? 24. Что такое OpenFlow? 25. Что такое SDN и какие контроллеры вы знаете? Сравните контроллеры.

Разное 26. Что такое SDLC? 27. Расскажите о последнем опыте реализации архитектуры для сервиса. 28. Какой трудный скрипт писали? 29. Что такое configuration drift? Почему это происходит и как это усложняет жизнь инженерам SRE? Ops? 30. Расскажите об архитектуре, за которую вы отвечаете, и укажите, как она масштабирована и отказоустойчива. 31. Назовите три важных KPI для DevOps-специалиста. 32. Как работает Kafka (clusters(brokers, controllers), topics, partitions)? 33. GitOps: Rancher Fleet vs Flux vs Argo? 34. Как использовать GitOps для обновления документации DevOps-приложений? 35.Расскажите об особенностях проектирования Kubernetes on-premise. 36. Как организовать On-Call процесс для команды DevOps? 37. Опишите главные шаги загрузки операционной системы Linux.

Container orchestration 38. Service mesh. Что это такое и зачем нужно? 39. Cluster federation. Что это такое и зачем нужно? 40. Pod fine-grained access. Как реализовать? IRSA vs kube2iam vs kiam? 41. Как реализуются услуги в кубернетах? 42. Как дебажить трафик контейнера? 43. Что такое unikernel и для чего он нужен? 44. Почему коммьюнити переезжает из Docker containerd?

Clouds and Automation 45. Каковы преимущества и недостатки cloud-провайдеров? 46. Cost оптимизация. Какие инструменты? Spot/preemptible instances, reservations? 47. Как организовать multi-account, multi-region cloud setup? 48. В чем разница между частными и публичными сетями AWS? 49. AWS Lambda: имели ли опыт работы? 50. Когда следует переходить на AWS Lambda? Когда не стоит? Аналогичные решения в GCP или Kubernetes? 51. Когда лучше использовать CloudFormation, а когда Terraform?

CI/CD 52. Что такое state в контексте использования Terraform? 53. Какие существуют branching strategy? На что опираться при выборе? 54. Каким образом реализовать feature/dynamic environments? 55. Как произвести эмуляцию ресурсов cloud-провайдера для локального тестирования и ускорения разработки? 56. Что такое MultiCloud? 57. Что такое Cloud-Agnostic и когда он потребуется? 58. Что такое Hybrid-Cloud и с какими решениями вы работали?

Information Security 59. Как храниться пароли в базах данных (Salt&Pepper, Rainbow Tables, Adaptive Hashing)? 60. Как передавать секреты в application (Secrets management)? 61. Сравните CI/CD SAST и DAST? 62. Какие вы знаете Kubernetes security practices? RBAC? OPA? Какие недостатки RBAC и какие кейсы знаете? 63. Расскажите о защите от атак DDOS, WAF. 64. Что такое Rootless containers и для чего он нужен? 65. Что такое AppArmor и Seccomp и зачем они нужны? 66. Приходилось ли работать с Falco? Если да, то что реализовывали? 67. HashiCorp Vault и как правильно передать нам секреты в контейнер и CI pipeline? 68.Что такое Admission Controllers и какие вы использовали? 69. Как хранятся секреты? Как просмотреть ресурсы в etcd? 70. Чем проверяете на уязвимости ваш Kubernetes cluster? 71. Что такое Secure SDLC? 72. Что вы знаете о Cloud Infrastructure Attack via a Pull Request и как этого избежать?

Observability 73. Что такое observability и чем отличается от обычного мониторинга? Какие особенности необходимо учитывать в микросервисной архитектуре (tracing)? 74. Что такое SLI, SLO, SLA и для чего они нужны? Для чего используют error budget?

Databases 75. Что такое теорема CAP? Зачем это нужно? 76. Как работать с миграциями? Что делать в случае rollback? Как проверить, что миграция backward-compatible? 77. Опишите, как бы вы оптимизировали работу базы данных? (БД по выбору кандидата) Slow queries, buffers, thread pools? 78. Зачем нужно тестировать перформанс базы данных и какими инструментами?

Практические задания 79. Представьте, что вы являетесь CTO Booking или Airbnb. Какие бы вы принимали решение по:

Языки программирования. Infrastructure as a Code. Архитектура инфраструктуры. Настройка CI/CD. 80. У вас есть файл, содержащий патчи в директории. Например:

/var/tmp/temp/file1.c /var/tmp/file.ext /var/tmp/temp/

etc... один путь в строке. Если путь заканчивается на '/', это путь в каталог. Вам нужно восстановить дерево каталогов с пустыми файлами в другой файловой системе. Напишите bash-скрипт.

Представьте, что вам нужно убедить Spotify, использующий AWS, перейти на GCP. Как вы мотивируете Spotify мигрировать на GCP?
Есть сервисная компания, предоставляющая сервис трекинга перевозок. Есть клиенты, которые не желают, чтобы их данные процессировались в AWS. Как реализовать multi-cloud solution?



